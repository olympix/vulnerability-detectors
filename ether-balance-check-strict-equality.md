## Performing a strict equality check on ether balance

* **Vulnerability ID:** `ether-balance-check-strict-equality`
* **Severity:** `Medium`
* **Confidence:** `High`
* **Difficulty:** Easy
* **Versions affected:** All

## Detection rule
Flag if a strict equality check is performed on a contract's ether balance (using old-style notation `this.balance` and new-style notation `address(this).balance`).

## Historic Exploit:

## Vulnerable Example
```solidity
// SPDX-License-Identifier: Unlicense
pragma solidity 0.4.0;

contract Crowdsale {
    function fundingReached() public returns(bool) {
        return this.balance == 100 ether;
    }
}
```

### Why is this a problem?
In the code above, an attacker can force the condition to never be met by force sending ether to the contract, which may lead to unintended behavior of the rest of the contract.

#### Further reading:

## Corrected Example
#### Avoid performing strict equality checks on ether balances.
```solidity
// SPDX-License-Identifier: Unlicense
pragma solidity 0.4.0;

contract Crowdsale {
    function fundingReached() public returns(bool) {
        return this.balance >= 100 ether;
    }
}
```
