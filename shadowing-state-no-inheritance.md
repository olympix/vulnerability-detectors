## Shadowing state variables in the same contract

* **Vulnerability ID:** `shadowing-state-no-inheritance`
* **Severity:** `Low`
* **Confidence:** `High`
* **Difficulty:** Hard
* **Versions affected:** All

## Detection rule
Flag if any local variables shadow a state variable in the same contract.

## Historic Exploit:

## Vulnerable Example
```solidity
// SPDX-License-Identifier: Unlicense
pragma solidity ^0.4.24;

contract Bug {
    uint owner;

    function sensitiveFunction(address owner) public {
        // ...
        require(owner == msg.sender);
    }

    function alternateSensitiveFunction() public {
        address owner = msg.sender;
        // ...
        require(owner == msg.sender);
    }
}
```

### Why is this a problem?
In the code above, the function `alternativeSensitiveFunction()` declares a local address variable `owner` that shadows the state variable of the same name in the contract, which could lead to unintended behavior if it were intended to refer to the contract state variable.

#### Further reading:

## Corrected Example
#### Do not shadow names of state variables.
```solidity
// SPDX-License-Identifier: Unlicense
pragma solidity ^0.4.24;

contract Fixed {
    uint owner;

    function sensitiveFunction(address owner) public {
        // ...
        require(owner == msg.sender);
    }

    function alternateSensitiveFunction() public {
        address localOwner = msg.sender;
        // ...
        require(owner == msg.sender);
    }
}
```
